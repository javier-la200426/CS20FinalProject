<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FriendFinder - Feedback</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script>
        function rate(star_num) {
            stars = [...document.getElementsByClassName("fa-star")];
            
            stars.forEach(function(star){
                star.classList.remove("rated");
            });

            for(let i = 0; i < star_num; i++) {
                stars[i].classList.add("rated");
            }
        }

        function checkExtra() {
            trigger = [...document.getElementsByName("proposed")][0];
            if (trigger.checked) {
                document.getElementById("proposed-event").style.display = "block";
            } else {
                document.getElementById("proposed-event").style.display = "none";
            }
        }
    </script>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">FriendFinder</a>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="preferences.html">Preferences</a></li>
            <li class="user-greeting">Hi, <span id="user-name-display">User</span>!</li>
            <li>
                <select id="user-switcher" class="user-switcher">
                    <option value="000000000000000000000001">Alex Demo</option>
                    <option value="000000000000000000000002">Jordan Demo</option>
                    <option value="admin">Admin</option>
                </select>
            </li>
        </ul>
    </nav>

    <div class="container">
        <div class="card">
            <h1>Tell Us About Your Experience!</h1>
            <p>Help us improve future experiences for our users by completing
                a brief survey.</p>

            <form id="feedback-form" method="post" onsubmit="return submitFeedback()">
                <div class="form-group">
                    <label for="rating">What was your level of enjoyment of the event?</label>
                    <div class="stars">
                        <span onclick="rate(1)" class="fa fa-star"></span>
                        <span onclick="rate(2)" class="fa fa-star"></span>
                        <span onclick="rate(3)" class="fa fa-star"></span>
                        <span onclick="rate(4)" class="fa fa-star"></span>
                        <span onclick="rate(5)" class="fa fa-star"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="meet">Would you meet again with your group?</label>
                    <div class="options">
                        <div class="radio">
                            <input type="radio" id="no" name="meet" value="no">
                            <label for="no">No</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="maybe" name="meet" value="maybe">
                            <label for="maybe">Maybe</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="yes" name="meet" value="yes">
                            <label for="yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="interactions">Rate your interactions with your group:</label>
                    <div class="options">
                        <div class="radio">
                            <input type="radio" id="bad" name="interactions" value="bad">
                            <label for="bad">Bad</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="poor" name="interactions" value="poor">
                            <label for="poor">Poor</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="average" name="interactions" value="average">
                            <label for="average">Average</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="good" name="interactions" value="good">
                            <label for="good">Good</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="excellent" name="interactions" value="excellent">
                            <label for="excellent">Excellent</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="group-comments">Group member comments:</label>
                    <textarea id="group-comments" name="group-comments" placeholder="Tell us about your group members..."></textarea>
                </div>

                <div class="form-group">
                    <label for="given-event">Rate the proposed event:</label>
                    <div class="options">
                        <div class="radio">
                            <input type="radio" id="not-used" name="proposed" value="didn't use" onchange="checkExtra()">
                            <label for="didn't use">Didn't Use</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="boring" name="proposed" value="boring" onchange="checkExtra()">
                            <label for="boring">Boring</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="avg" name="proposed" value="average" onchange="checkExtra()">
                            <label for="avg">Average</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="okay" name="proposed" value="good" onchange="checkExtra()">
                            <label for="okay">Good</label>
                        </div>
                        <div class="radio">
                            <input type="radio" id="exciting" name="proposed" value="exciting" onchange="checkExtra()">
                            <label for="exciting">Exciting</label>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="proposed-event">
                    <label for="event-comments">Proposed event comments:</label>
                    <textarea id="event-comments" name="event-comments" placeholder="Tell us how our proposed event can be improved..."></textarea>
                </div>

                <div class="form-group">
                    <label for="comments">Additional comments</label>
                    <textarea id="comments" name="comments" placeholder="Tell us more about your experience..."></textarea>
                </div>

                <button type="submit" class="btn">Submit Feedback</button>
            </form>

            <div id="feedback-message" class="hidden"></div>

            <div id="already-submitted" class="hidden">
                <div class="success-box">
                    <h2>âœ“ Thank You!</h2>
                    <p>You've already submitted feedback for this event.</p>
                    <p>We appreciate you taking the time to help us improve!</p>
                    <a href="index.html" class="btn">Back to Home</a>
                </div>
            </div>

            <div id="no-event-message" class="hidden">
                <div class="info-box">
                    <h2>No Event Found</h2>
                    <p>You don't have an event to give feedback for yet.</p>
                    <a href="events.html" class="btn">Get Your Event</a>
                </div>
            </div>
        </div>
    </div>

    <script src="js/feedback.js"></script>
</body>
</html>

